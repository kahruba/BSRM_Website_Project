<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Employee Register - BSRM</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    body {
      margin: 0; 
      padding: 0; 
      height: 100vh;
      display: flex; 
      justify-content: center; 
      align-items: center;

      /* Add backend background image */
      background-image: url('images/login-bg.png');
      background-repeat: no-repeat;
      background-position: center center;
      background-size: cover;

      font-family: Arial, sans-serif;
    }

    .register-container {
      background: #fff; 
      width: 400px; 
      padding: 40px 30px;
      border-radius: 12px; 
      box-shadow:0 8px 25px rgba(0,0,0,0.3);
      text-align: center;
    }

    h2 { margin-bottom: 20px; color:#333; }

    .input-group { margin-bottom: 15px; text-align: left; }

    .input-group label { display: block; margin-bottom:5px; font-weight:bold; color:#333; }

    .input-group input { width:100%; padding:10px; border-radius:6px; border:1px solid #ccc; box-sizing:border-box; }

    button { width:100%; padding:12px; background-color:#0072ff; color:white; border:none; border-radius:6px; font-weight:bold; cursor:pointer; margin-top:10px; transition: background 0.3s; }

    button:hover { background-color:#005fcc; }

    #message { margin-top:12px; font-weight:bold; }

    .login-link { display:block; margin-top:15px; font-size:14px; text-align:center; }

    .login-link a { color:#0072ff; text-decoration:none; font-weight:bold; }

    .login-link a:hover { text-decoration:underline; }
  </style>
</head>
<body>

<div class="register-container">
  <h2>Employee Registration</h2>
  <form id="registerForm">
    <div class="input-group">
      <label>Full Name:</label>
      <input type="text" id="name" required>
    </div>

    <div class="input-group">
      <label>Email:</label>
      <input type="email" id="email" required>
    </div>

    <div class="input-group">
      <label>Password:</label>
      <input type="password" id="password" required>
    </div>

    <div class="input-group">
      <label>Confirm Password:</label>
      <input type="password" id="confirmPassword" required>
    </div>

    <button type="submit">Register</button>
    <p id="message"></p>
  </form>

  <span class="login-link">
    Already have an account? <a href="employee_login.html">Log in</a>
  </span>
</div>

<script>
const registerForm = document.getElementById('registerForm');
const message = document.getElementById('message');

registerForm.addEventListener('submit', function(e){
  e.preventDefault();
  const name = document.getElementById('name').value.trim();
  const email = document.getElementById('email').value.trim();
  const password = document.getElementById('password').value;
  const confirm = document.getElementById('confirmPassword').value;

  if(password !== confirm){
    message.textContent = "❌ Passwords do not match!";
    message.style.color = "red";
    return;
  }

  let users = JSON.parse(localStorage.getItem('users')) || [];
  if(users.find(u => u.email === email)){
    message.textContent = "❌ Email already registered!";
    message.style.color = "red";
    return;
  }

  const newUser = { 
    id: users.length ? users[users.length-1].id+1 : 1, 
    name, email, password, role: 'employee', 
    status: '',           
    appliedJob: false,   
    addedByAdmin: false
  };

  users.push(newUser);
  localStorage.setItem('users', JSON.stringify(users));

  message.textContent = "✅ Registered successfully! Redirecting to login...";
  message.style.color = "green";

  setTimeout(()=> { window.location.href = 'employee_login.html'; }, 1500);
});
</script>

</body>
</html>


